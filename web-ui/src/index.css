@tailwind base;
@tailwind components;
@tailwind utilities;

/* VSCode CSS Variables - will be injected by webview */
:root {
  --vscode-font-family: 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
  --vscode-font-size: 13px;
  --vscode-font-weight: normal;
  --vscode-foreground: #cccccc;
  --vscode-background: #1e1e1e;
  --vscode-editor-background: #1e1e1e;
  --vscode-editor-foreground: #d4d4d4;
  --vscode-input-background: #3c3c3c;
  --vscode-input-foreground: #cccccc;
  --vscode-input-border: #3c3c3c;
  --vscode-button-background: #0e639c;
  --vscode-button-foreground: #ffffff;
  --vscode-button-hoverBackground: #1177bb;
  --vscode-list-hoverBackground: #2a2d2e;
  --vscode-list-activeSelectionBackground: #094771;
  --vscode-panel-border: #3c3c3c;
  --vscode-textBlockQuote-background: #7f7f7f1a;
  --vscode-textBlockQuote-border: #007acc80;
  --vscode-badge-background: #4d4d4d;
  --vscode-badge-foreground: #ffffff;
}

/* Light theme fallback - will be overridden by dynamic theme detection */
[data-vscode-theme-kind*="light"], 
html[data-vscode-theme-kind*="light"],
.vscode-light {
  --vscode-foreground: #616161;
  --vscode-background: #ffffff;
  --vscode-editor-background: #fffffe;
  --vscode-editor-foreground: #000000;
  --vscode-input-background: #ffffff;
  --vscode-input-foreground: #616161;
  --vscode-input-border: #cecece;
  --vscode-button-background: #007acc;
  --vscode-button-foreground: #ffffff;
  --vscode-button-hoverBackground: #005a9e;
  --vscode-list-hoverBackground: #f0f0f0;
  --vscode-list-activeSelectionBackground: #0074e8;
  --vscode-panel-border: #e5e5e5;
  --vscode-textBlockQuote-background: #f2f2f2;
  --vscode-textBlockQuote-border: #007acc;
  --vscode-badge-background: #c4c4c4;
  --vscode-badge-foreground: #333333;
}

/* Dark theme fallback - will be overridden by dynamic theme detection */
[data-vscode-theme-kind*="dark"],
html[data-vscode-theme-kind*="dark"],
.vscode-dark {
  --vscode-foreground: #cccccc;
  --vscode-background: #1e1e1e;
  --vscode-editor-background: #1e1e1e;
  --vscode-editor-foreground: #d4d4d4;
  --vscode-input-background: #3c3c3c;
  --vscode-input-foreground: #cccccc;
  --vscode-input-border: #3c3c3c;
  --vscode-button-background: #0e639c;
  --vscode-button-foreground: #ffffff;
  --vscode-button-hoverBackground: #1177bb;
  --vscode-list-hoverBackground: #2a2d2e;
  --vscode-list-activeSelectionBackground: #094771;
  --vscode-panel-border: #3c3c3c;
  --vscode-textBlockQuote-background: #7f7f7f1a;
  --vscode-textBlockQuote-border: #007acc80;
  --vscode-badge-background: #4d4d4d;
  --vscode-badge-foreground: #ffffff;
}

body {
  margin: 0;
  padding: 0;
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  font-weight: var(--vscode-font-weight);
  color: var(--vscode-foreground);
  background-color: var(--vscode-editor-background);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.4;
}

#root {
  min-height: 100vh;
  background-color: var(--vscode-editor-background);
}

/* VSCode-style compact spacing */
.vscode-compact {
  --space-xs: 2px;
  --space-sm: 4px;
  --space-md: 8px;
  --space-lg: 12px;
  --space-xl: 16px;
  --space-2xl: 20px;
  --space-3xl: 24px;
  
  --font-xs: 11px;
  --font-sm: 12px;
  --font-md: 13px;
  --font-lg: 14px;
  --font-xl: 16px;
  --font-2xl: 18px;
  --font-3xl: 20px;
  
  --border-radius: 4px;
}

/* Override Tailwind with VSCode variables */
.bg-white { background-color: var(--vscode-editor-background) !important; }
.text-gray-900 { color: var(--vscode-editor-foreground) !important; }
.text-gray-700 { color: var(--vscode-foreground) !important; }
.text-gray-600 { color: var(--vscode-foreground) !important; }
.text-gray-500 { color: color-mix(in srgb, var(--vscode-foreground) 70%, transparent) !important; }
.bg-gray-50 { background-color: var(--vscode-input-background) !important; }
.bg-gray-100 { background-color: var(--vscode-list-hoverBackground) !important; }
.bg-gray-200 { background-color: var(--vscode-input-border) !important; }
.border-gray-200 { border-color: var(--vscode-panel-border) !important; }
.border-gray-300 { border-color: var(--vscode-input-border) !important; }
.bg-blue-50 { background-color: color-mix(in srgb, var(--vscode-button-background) 10%, var(--vscode-editor-background)) !important; }
.bg-yellow-50 { background-color: color-mix(in srgb, #fbbf24 10%, var(--vscode-editor-background)) !important; }
.bg-green-50 { background-color: color-mix(in srgb, #10b981 10%, var(--vscode-editor-background)) !important; }
.text-blue-600 { color: var(--vscode-button-background) !important; }
.hover\:bg-gray-50:hover { background-color: var(--vscode-list-hoverBackground) !important; }
.hover\:bg-blue-100:hover { background-color: color-mix(in srgb, var(--vscode-button-background) 20%, var(--vscode-editor-background)) !important; }

code {
  font-family: var(--vscode-editor-font-family, 'Cascadia Code', 'Fira Code', 'SF Mono', Monaco, 'Cascadia Mono', 'Roboto Mono', Consolas, 'Courier New', monospace);
  font-size: var(--vscode-editor-font-size, var(--font-sm));
}

/* VSCode-optimized font sizing for webview */
.vscode-webview {
  /* Use consistent VSCode font sizing */
  font-size: var(--vscode-font-size);
  font-family: var(--vscode-font-family);
  line-height: 1.4;
}

/* Override Tailwind font sizes with VSCode-appropriate scales */
.text-xs { font-size: var(--font-xs) !important; }
.text-sm { font-size: var(--font-sm) !important; }
.text-base { font-size: var(--font-md) !important; }
.text-lg { font-size: var(--font-lg) !important; }
.text-xl { font-size: var(--font-xl) !important; }
.text-2xl { font-size: var(--font-2xl) !important; }
.text-3xl { font-size: var(--font-3xl) !important; }
.text-4xl { font-size: calc(var(--font-3xl) * 1.2) !important; }

/* Compact button and input sizing for VSCode - use editor font for inputs */
button {
  font-size: var(--font-sm) !important;
  font-family: var(--vscode-font-family) !important;
}

input, textarea, select {
  font-size: var(--vscode-editor-font-size, var(--font-sm)) !important;
  font-family: var(--vscode-editor-font-family, var(--vscode-font-family)) !important;
}

/* Header sizing adjustments */
h1 { font-size: var(--font-xl) !important; font-weight: 600; }
h2 { font-size: var(--font-lg) !important; font-weight: 600; }
h3 { font-size: var(--font-md) !important; font-weight: 600; }
h4 { font-size: var(--font-sm) !important; font-weight: 600; }

/* VSCode webview specific adjustments */
.vscode-webview {
  /* Ensure consistent spacing in VSCode context */
  --space-scale: 0.8;
}

.vscode-webview .py-4 { padding-top: calc(1rem * var(--space-scale)); padding-bottom: calc(1rem * var(--space-scale)); }
.vscode-webview .py-6 { padding-top: calc(1.5rem * var(--space-scale)); padding-bottom: calc(1.5rem * var(--space-scale)); }
.vscode-webview .py-8 { padding-top: calc(2rem * var(--space-scale)); padding-bottom: calc(2rem * var(--space-scale)); }
.vscode-webview .mb-4 { margin-bottom: calc(1rem * var(--space-scale)); }
.vscode-webview .mb-6 { margin-bottom: calc(1.5rem * var(--space-scale)); }
.vscode-webview .mb-8 { margin-bottom: calc(2rem * var(--space-scale)); }

/* Compact dialog and modal sizes for VSCode */
.vscode-webview .max-w-lg { max-width: 28rem; }
.vscode-webview .max-w-md { max-width: 20rem; }
.vscode-webview .max-w-sm { max-width: 16rem; }

/* Better button sizing in VSCode context */
.vscode-webview button {
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--border-radius);
}

.vscode-webview input, .vscode-webview textarea {
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--border-radius);
}

/* Task content should use editor font since it often contains code/technical content */
.task-content, .task-description, .board-goal {
  font-family: var(--vscode-editor-font-family, var(--vscode-font-family)) !important;
  font-size: var(--vscode-editor-font-size, var(--font-sm)) !important;
  line-height: 1.5;
}
